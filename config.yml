nodes:
  - name: RBS::AST::Annotation
    rust_name: AnnotationNode
    fields:
      - name: string
        c_type: rbs_string
  - name: RBS::AST::Bool
    rust_name: BoolNode
    expose_to_ruby: false
    expose_location: false
    fields:
      - name: value
        c_type: bool
  - name: RBS::AST::Comment
    rust_name: CommentNode
    fields:
      - name: string
        c_type: rbs_string
  - name: RBS::AST::Declarations::Class
    rust_name: ClassNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: type_params
        c_type: rbs_node_list
      - name: super_class
        c_type: rbs_ast_declarations_class_super
        optional: true  # NULL when no superclass (e.g., `class Foo end` vs `class Foo < Bar end`)
      - name: members
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Declarations::Class::Super
    rust_name: ClassSuperNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
  - name: RBS::AST::Declarations::ClassAlias
    rust_name: ClassAliasNode
    fields:
      - name: new_name
        c_type: rbs_type_name
      - name: old_name
        c_type: rbs_type_name
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: annotations
        c_type: rbs_node_list
  - name: RBS::AST::Declarations::Constant
    rust_name: ConstantNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: type
        c_type: rbs_node
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: annotations
        c_type: rbs_node_list
  - name: RBS::AST::Declarations::Global
    rust_name: GlobalNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: annotations
        c_type: rbs_node_list
  - name: RBS::AST::Declarations::Interface
    rust_name: InterfaceNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: type_params
        c_type: rbs_node_list
      - name: members
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Declarations::Module
    rust_name: ModuleNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: type_params
        c_type: rbs_node_list
      - name: self_types
        c_type: rbs_node_list
      - name: members
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Declarations::Module::Self
    rust_name: ModuleSelfNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
  - name: RBS::AST::Declarations::ModuleAlias
    rust_name: ModuleAliasNode
    fields:
      - name: new_name
        c_type: rbs_type_name
      - name: old_name
        c_type: rbs_type_name
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: annotations
        c_type: rbs_node_list
  - name: RBS::AST::Declarations::TypeAlias
    rust_name: TypeAliasNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: type_params
        c_type: rbs_node_list
      - name: type
        c_type: rbs_node
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Directives::Use
    rust_name: UseNode
    fields:
      - name: clauses
        c_type: rbs_node_list
  - name: RBS::AST::Directives::Use::SingleClause
    rust_name: UseSingleClauseNode
    fields:
      - name: type_name
        c_type: rbs_type_name
      - name: new_name
        c_type: rbs_ast_symbol
        optional: true  # NULL when no alias (e.g., `use Foo::Bar` vs `use Foo::Bar as Baz`)
  - name: RBS::AST::Directives::Use::WildcardClause
    rust_name: UseWildcardClauseNode
    fields:
      - name: namespace
        c_type: rbs_namespace
        c_name: rbs_namespace
  - name: RBS::AST::Members::Alias
    rust_name: AliasNode
    fields:
      - name: new_name
        c_type: rbs_ast_symbol
      - name: old_name
        c_type: rbs_ast_symbol
      - name: kind
        c_type: rbs_keyword
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::AttrAccessor
    rust_name: AttrAccessorNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: ivar_name
        c_type: rbs_node # rbs_ast_symbol_t, NULL or rbs_ast_bool_new(false)
        optional: true  # NULL when omitted (`attr_accessor foo: T`); Symbol when named (`attr_accessor foo (@bar): T`); Bool(false) when empty parens (`attr_accessor foo (): T`)
      - name: kind
        c_type: rbs_keyword
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: visibility
        c_type: rbs_keyword
        optional: true  # NULL when no visibility prefix (e.g., `attr_accessor foo: T` vs `private attr_accessor foo: T`)
  - name: RBS::AST::Members::AttrReader
    rust_name: AttrReaderNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: ivar_name
        c_type: rbs_node # rbs_ast_symbol_t, NULL or rbs_ast_bool_new(false)
        optional: true  # NULL when omitted (`attr_reader foo: T`); Symbol when named (`attr_reader foo (@bar): T`); Bool(false) when empty parens (`attr_reader foo (): T`)
      - name: kind
        c_type: rbs_keyword
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: visibility
        c_type: rbs_keyword
        optional: true  # NULL when no visibility prefix (e.g., `attr_reader foo: T` vs `private attr_reader foo: T`)
  - name: RBS::AST::Members::AttrWriter
    rust_name: AttrWriterNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: ivar_name
        c_type: rbs_node # rbs_ast_symbol_t, NULL or rbs_ast_bool_new(false)
        optional: true  # NULL when omitted (`attr_writer foo: T`); Symbol when named (`attr_writer foo (@bar): T`); Bool(false) when empty parens (`attr_writer foo (): T`)
      - name: kind
        c_type: rbs_keyword
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: visibility
        c_type: rbs_keyword
        optional: true  # NULL when no visibility prefix (e.g., `attr_writer foo: T` vs `private attr_writer foo: T`)
  - name: RBS::AST::Members::ClassInstanceVariable
    rust_name: ClassInstanceVariableNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::ClassVariable
    rust_name: ClassVariableNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::Extend
    rust_name: ExtendNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::Include
    rust_name: IncludeNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::InstanceVariable
    rust_name: InstanceVariableNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: type
        c_type: rbs_node
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::MethodDefinition
    rust_name: MethodDefinitionNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: kind
        c_type: rbs_keyword
      - name: overloads
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
      - name: overloading
        c_type: bool
      - name: visibility
        c_type: rbs_keyword
        optional: true  # NULL when no visibility prefix (e.g., `def foo: ...` vs `private def foo: ...`)
  - name: RBS::AST::Members::MethodDefinition::Overload
    rust_name: MethodDefinitionOverloadNode
    expose_location: false
    fields:
      - name: annotations
        c_type: rbs_node_list
      - name: method_type
        c_type: rbs_node
  - name: RBS::AST::Members::Prepend
    rust_name: PrependNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
      - name: annotations
        c_type: rbs_node_list
      - name: comment
        c_type: rbs_ast_comment
        optional: true  # NULL when no comment precedes the declaration
  - name: RBS::AST::Members::Private
    rust_name: PrivateNode
  - name: RBS::AST::Members::Public
    rust_name: PublicNode
  - name: RBS::AST::TypeParam
    rust_name: TypeParamNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
      - name: variance
        c_type: rbs_keyword
      - name: upper_bound
        c_type: rbs_node
        optional: true  # NULL when no upper bound (e.g., `[T]` vs `[T < Bound]`)
      - name: lower_bound
        c_type: rbs_node
        optional: true  # NULL when no lower bound (e.g., `[T]` vs `[T > Bound]`)
      - name: default_type
        c_type: rbs_node
        optional: true  # NULL when no default (e.g., `[T]` vs `[T = Default]`)
      - name: unchecked
        c_type: bool
  - name: RBS::AST::Integer
    rust_name: IntegerNode
    expose_to_ruby: false
    expose_location: false
    fields:
      - name: string_representation
        c_type: rbs_string
  - name: RBS::AST::String
    rust_name: StringNode
    expose_to_ruby: false
    expose_location: false
    fields:
      - name: string
        c_type: rbs_string
  - name: RBS::MethodType
    rust_name: MethodTypeNode
    fields:
      - name: type_params
        c_type: rbs_node_list
      - name: type
        c_type: rbs_node
      - name: block
        c_type: rbs_types_block
        optional: true  # NULL when no block (e.g., `() -> void` vs `() { () -> void } -> void`)
  - name: RBS::Namespace
    rust_name: NamespaceNode
    expose_location: false
    fields:
      - name: path
        c_type: rbs_node_list
      - name: absolute
        c_type: bool
  - name: RBS::Signature
    rust_name: SignatureNode
    expose_to_ruby: false
    expose_location: false
    fields:
      - name: directives
        c_type: rbs_node_list
      - name: declarations
        c_type: rbs_node_list
  - name: RBS::TypeName
    rust_name: TypeNameNode
    expose_location: false
    fields:
      - name: namespace
        c_type: rbs_namespace
        c_name: rbs_namespace
      - name: name
        c_type: rbs_ast_symbol
  - name: RBS::Types::Alias
    rust_name: AliasTypeNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
  - name: RBS::Types::Bases::Any
    rust_name: AnyTypeNode
    fields:
      - name: todo
        c_type: bool
  - name: RBS::Types::Bases::Bool
    rust_name: BoolTypeNode
  - name: RBS::Types::Bases::Bottom
    rust_name: BottomTypeNode
  - name: RBS::Types::Bases::Class
    rust_name: ClassTypeNode
  - name: RBS::Types::Bases::Instance
    rust_name: InstanceTypeNode
  - name: RBS::Types::Bases::Nil
    rust_name: NilTypeNode
  - name: RBS::Types::Bases::Self
    rust_name: SelfTypeNode
  - name: RBS::Types::Bases::Top
    rust_name: TopTypeNode
  - name: RBS::Types::Bases::Void
    rust_name: VoidTypeNode
  - name: RBS::Types::Block
    rust_name: BlockTypeNode
    expose_location: true
    fields:
      - name: type
        c_type: rbs_node
      - name: required
        c_type: bool
      - name: self_type
        c_type: rbs_node
        optional: true  # NULL when no self binding (e.g., `{ () -> void }` vs `{ () [self: T] -> void }`)
  - name: RBS::Types::ClassInstance
    rust_name: ClassInstanceTypeNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
  - name: RBS::Types::ClassSingleton
    rust_name: ClassSingletonTypeNode
    fields:
      - name: name
        c_type: rbs_type_name
  - name: RBS::Types::Function
    rust_name: FunctionTypeNode
    expose_location: false
    fields:
      - name: required_positionals
        c_type: rbs_node_list
      - name: optional_positionals
        c_type: rbs_node_list
      - name: rest_positionals
        c_type: rbs_node
        optional: true  # NULL when no splat (e.g., `(String) -> void` vs `(*String) -> void`)
      - name: trailing_positionals
        c_type: rbs_node_list
      - name: required_keywords
        c_type: rbs_hash
      - name: optional_keywords
        c_type: rbs_hash
      - name: rest_keywords
        c_type: rbs_node
        optional: true  # NULL when no double-splat (e.g., `() -> void` vs `(**String) -> void`)
      - name: return_type
        c_type: rbs_node
  - name: RBS::Types::Function::Param
    rust_name: FunctionParamNode
    fields:
      - name: type
        c_type: rbs_node
      - name: name
        c_type: rbs_ast_symbol
        optional: true  # NULL when param is unnamed (e.g., `(String) -> void` vs `(String name) -> void`)
  - name: RBS::Types::Interface
    rust_name: InterfaceTypeNode
    fields:
      - name: name
        c_type: rbs_type_name
      - name: args
        c_type: rbs_node_list
  - name: RBS::Types::Intersection
    rust_name: IntersectionTypeNode
    fields:
      - name: types
        c_type: rbs_node_list
  - name: RBS::Types::Literal
    rust_name: LiteralTypeNode
    fields:
      - name: literal
        c_type: rbs_node
  - name: RBS::Types::Optional
    rust_name: OptionalTypeNode
    fields:
      - name: type
        c_type: rbs_node
  - name: RBS::Types::Proc
    rust_name: ProcTypeNode
    fields:
      - name: type
        c_type: rbs_node
      - name: block
        c_type: rbs_types_block
        optional: true  # NULL when proc has no block (e.g., `^() -> void` vs `^() { () -> void } -> void`)
      - name: self_type
        c_type: rbs_node
        optional: true  # NULL when no self binding (e.g., `^() -> void` vs `^() [self: T] -> void`)
  - name: RBS::Types::Record
    rust_name: RecordTypeNode
    fields:
      - name: all_fields
        c_type: rbs_hash
  - name: RBS::Types::Record::FieldType
    rust_name: RecordFieldTypeNode
    expose_to_ruby: false
    expose_location: false
    fields:
      - name: type
        c_type: rbs_node
      - name: required
        c_type: bool
  - name: RBS::Types::Tuple
    rust_name: TupleTypeNode
    fields:
      - name: types
        c_type: rbs_node_list
  - name: RBS::Types::Union
    rust_name: UnionTypeNode
    fields:
      - name: types
        c_type: rbs_node_list
  - name: RBS::Types::UntypedFunction
    rust_name: UntypedFunctionTypeNode
    expose_location: false
    fields:
      - name: return_type
        c_type: rbs_node
  - name: RBS::Types::Variable
    rust_name: VariableTypeNode
    fields:
      - name: name
        c_type: rbs_ast_symbol
  - name: RBS::AST::Ruby::Annotations::NodeTypeAssertion
    rust_name: NodeTypeAssertionNode
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: type
        c_type: rbs_node
  - name: RBS::AST::Ruby::Annotations::ColonMethodTypeAnnotation
    rust_name: ColonMethodTypeAnnotationNode
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: annotations
        c_type: rbs_node_list
      - name: method_type
        c_type: rbs_node
  - name: RBS::AST::Ruby::Annotations::MethodTypesAnnotation
    rust_name: MethodTypesAnnotationNode
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: overloads
        c_type: rbs_node_list
      - name: vertical_bar_locations
        c_type: rbs_location_list
  - name: RBS::AST::Ruby::Annotations::SkipAnnotation
    rust_name: SkipAnnotationNode
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: skip_location
        c_type: rbs_location
      - name: comment_location
        c_type: rbs_location
  - name: RBS::AST::Ruby::Annotations::ReturnTypeAnnotation
    rust_name: ReturnTypeAnnotationNode
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: return_location
        c_type: rbs_location
      - name: colon_location
        c_type: rbs_location
      - name: return_type
        c_type: rbs_node
      - name: comment_location
        c_type: rbs_location
  - name: RBS::AST::Ruby::Annotations::TypeApplicationAnnotation
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: type_args
        c_type: rbs_node_list
      - name: close_bracket_location
        c_type: rbs_location
      - name: comma_locations
        c_type: rbs_location_list
  - name: RBS::AST::Ruby::Annotations::InstanceVariableAnnotation
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: ivar_name
        c_type: rbs_ast_symbol
      - name: ivar_name_location
        c_type: rbs_location
      - name: colon_location
        c_type: rbs_location
      - name: type
        c_type: rbs_node
      - name: comment_location
        c_type: rbs_location
  - name: RBS::AST::Ruby::Annotations::ClassAliasAnnotation
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: keyword_location
        c_type: rbs_location
      - name: type_name
        c_type: rbs_type_name
      - name: type_name_location
        c_type: rbs_location
  - name: RBS::AST::Ruby::Annotations::ModuleAliasAnnotation
    fields:
      - name: prefix_location
        c_type: rbs_location
      - name: keyword_location
        c_type: rbs_location
      - name: type_name
        c_type: rbs_type_name
      - name: type_name_location
        c_type: rbs_location
